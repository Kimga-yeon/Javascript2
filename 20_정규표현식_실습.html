<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>20. 정규표현식(실습)</title>

</head>
<body>
	<h1>유효성검사</h1>
       <input type="text" id="aaa"> +
       <input type="text" id="bbb"> =
       <span id="result"></span> <br>
       <input type="button" value="결과보기" onclick="execute();">

       <script>
           function execute(){
               var aaa = document.getElementById("aaa");
               var bbb = document.getElementById("bbb");
               var result = document.getElementById("result");

            // 유효성 검사 : validation
               var regExp = /^\d+$/;  // 오직 숫자만 
               
               var flag = true;
               
               if(!regExp.test(bbb.value)){ // bbb 값 중 숫자가 아닌 값이 포함된 경우 
                    alert("숫자만 입력하세요");
                    bbb.value = "";  // input 태그에 작성되어 있는 값을 없앰. 
                    bbb.focus();
                    flag = false;
               }

               if(!regExp.test(aaa.value)){ // aaa 값 중 숫자가 아닌 값이 포함된 경우 
                    alert("숫자만 입력하세요");
                    aaa.value = "";  // input 태그에 작성되어 있는 값을 없앰. 
                    aaa.focus();
               }
              
               if(flag){
               result.innerHTML = Number(aaa.value) + Number(bbb.value);
               // input 태그의 value는 자료형이 string 이므로 더 했을 때 문자열이 이어지는 모양이 됨.
               // -> 숫자 자료형으로 변경 
                 }
            }
       </script>
       
        <h1>회원가입 유효성 체크</h1>
       
        <form action="" method="post" onsubmit="return validate();">       <!-- 제출시 행동 -->
               <label for="userid">* 유저아이디</label>
               <input type="text" name="userid" id="userid"><br>

               <label for="pass">* 비밀번호</label>
               <input type="password" name="pass" id="pass"><br>

               <label for="pass1">* 확인</label>
               <input type="password" name="pass1" id="pass1"><br>

               <label for="name">* 이름</label>
               <input type="text" name="name" id="name"><br>

               <label for="email">* 이메일</label>
               <input type="text" name="email" id="email"><br>
               <br>

               <label for="tel1">전화번호</label>
               <input type="text" name="tel1" id="tel1" maxlength="3" size="3">-
               <input type="text" name="tel2" id="tel2" maxlength="4" size="4">-
               <input type="text" name="tel3" id="tel3" maxlength="4" size="4">
               <br><br><br>

               <label for="job">직업</label>
               <select name="job" id="job">
                       <option>개발자</option>
                       <option>프로그래머</option>
                       <option>자영업자</option>
               </select>
               <br>

               <label for="gender">성별</label>
               <input type="radio" name="gender" value="m"> 남
               <input type="radio" name="gender" value="f"> 여
               <br>

               <label for="hobby">취미</label>
               <input type="checkbox" name="hobby" value="reading"> 독서
               <input type="checkbox" name="hobby" value="drama"> 드라마보기
               <input type="checkbox" name="hobby" value="soccer"> 축구
               <br>
               <input type="checkbox" name="hobby" value="movie"> 영화보기
               <input type="checkbox" name="hobby" value="basket"> 드라마보기
               <input type="checkbox" name="hobby" value="game"> 게임<br>
               <input type="reset" value="리셋">
               <input type="submit" value="완료">
       
        </form>

        <script>
            function validate(){
                var id= document.getElementById("userid");

                // 아이디 검사 
                // 첫 글자는 반드시 영문 소문자 
                // 4~12 글자 , 영문 대소문자 + 숫자 
                var regExp = /^[a-z][a-zA-Z\d]{3,11}$/; 
                if(!regExp.test(id.value)){
                    alert("아이디 형식이 잘못되었습니다.");
                    id.value = "";
                    id.focus();

                    // 입력한 id 값이 정규식을 만족하지 않으면 false를 반환해 
                    // form 태그 기본 이벤트를 제거함.
                    return false; 
                }
            }
        </script>
</body>
</html>